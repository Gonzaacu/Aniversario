// Variables globales
let index = 0;
const images = document.querySelectorAll(".carousel img");
const music = document.getElementById("backgroundMusic");
const musicButton = document.getElementById("musicButton");
const dynamicTextElement = document.getElementById('dynamicText');

// Efecto de typing para el texto con class "typing-text"
const typingTextElement = document.querySelector('.typing-text');
const typingText = typingTextElement.textContent;
typingTextElement.textContent = ""; // Limpiar el texto inicial

let typingIndex = 0;
function typeText() {
    if (typingIndex < typingText.length) {
        typingTextElement.textContent += typingText.charAt(typingIndex);
        typingIndex++;
        setTimeout(typeText, 100); // Cambia la velocidad del typing
    }
}

// Efecto de typing para el texto con ID "dynamicText"
const dynamicText = `FELIZ ANIVERSARIO MI AMOR

Mi amorcito hoy es un d칤a especial para celebrar y quiero decirte que... mi mayor bendici칩n fue encontrarte gracias por todo lo que haces por m칤, por apoyarme en cada paso que doy y demostrarme que las cosas que te propones uno lo puede lograr hacer.... y s칤! prometo darte todo el amor que te mereces y estar contigo en los momentos tristes y de felicidad!

Cuando te digo que yo "Te amo m치s" no significa que yo te ame m치s que t칰 a m칤, significa que te amo m치s que todos los problemas que puedan venir y todo lo que vamos a superar juntos lo que siempre resalto en nosotros es que aprovechamos cada momento juntos. Me sacas la sonrisa m치s sincera y alegre, ambos hemos sacado la mejor versi칩n de nosotros mismos para tener una relaci칩n sana, madura y con estabilidad emocional, con momentos de felicidad, amor, cari침o, comprensi칩n y admiraci칩n. Sin duda eres mi amor bonito.

Ahora entiendo cuando me dec칤an "que pronto llegar치 una persona que te ame y te valore", se refer칤an a ti. TE AMO CON EL ALMA MI AMOR, te elegir칤a una y mil veces m치s.`;

// Funci칩n para simular el typing en el segundo texto
let dynamicTextIndex = 0;
function typeDynamicText() {
    if (dynamicTextIndex < dynamicText.length) {
        dynamicTextElement.textContent += dynamicText.charAt(dynamicTextIndex);
        dynamicTextIndex++;
        setTimeout(typeDynamicText, 50); // Cambia la velocidad del typing
    }
}

// Funci칩n para el carrusel
function moveSlide(step) {
    images[index].classList.remove("active");
    index = (index + step + images.length) % images.length;
    images[index].classList.add("active");
}

setInterval(() => moveSlide(1), 3000); // Cambia de imagen cada 3 segundos

// Funci칩n para el bot칩n de m칰sica
function toggleMusic() {
    if (music.paused) {
        music.play();
        musicButton.textContent = "游댆"; // Cambiar el icono cuando la m칰sica est치 activada
    } else {
        music.pause();
        musicButton.textContent = "游꿨"; // Cambiar el icono cuando la m칰sica est치 pausada
    }
}

window.addEventListener('click', () => {
    music.play().catch((error) => {
        console.error("Error al iniciar la m칰sica:", error);
    });
});

// Funci칩n para crear corazones flotantes
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "仇벒잺";
    heart.style.left = Math.random() * 100 + "vw"; // Posici칩n aleatoria en el eje X
    heart.style.animationDuration = (Math.random() * 3 + 2) + "s"; // Duraci칩n aleatoria de la animaci칩n
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 8000); // Eliminar el coraz칩n despu칠s de 8 segundos
}

setInterval(createHeart, 500); // Crear un coraz칩n cada 500 ms

// Iniciar el efecto de typing cuando la p치gina se carga
window.onload = () => {
    typeText(); // Para el texto con class "typing-text"
    typeDynamicText(); // Para el texto con ID "dynamicText"
};
